UNNOFICIAL Zen's EnvyMud patch Release 0.85! (HomeCooked Envy2.2)
Monday, 14th July 1997

Zen		vasc@camoes.rnl.ist.utl.pt


=== What's new in patch Release 0.85

Zen:		It seems like i forgot do update load_helps() in db.c, this
		  caused helps in areas (like drow.are) to not be saved by OLC
		  so the helps for drow, elf, dwarf, etc simply vanished. Not
		  very nice...
		Added SMAUG's track code. Now mobs hunt down and kill you if you
		  piss them off! Eheheh...
		Smarter mobs, not quite as smart as ROM's since the system is
		  simpler, but faster also - it's 95% or so SMAUG code.
		Track skill for Thieves (SMAUG code)
		Whirlwind skill for Warriors (by Stimpy - can't recall address)
		Removed olc_envy20's ROOM_TEMP_CONE_OF_SILENCE and replaced it
		  with a new field orig_room_flags in room_index_data. This
		  field is saved by OLC instead of room_flags.
		Added more detailed boot log ala SMAUG, i was having problems
		  when i killed the server whilst auto-saving. This way i can
		  detect faulty saved areas more easily. I advise you to keep a
		  backup of your areas just in case.
		Object affects, now you can have a One Ring which renders you
		  invisible with AFF_INVIS, or sanctuary with AFF_SANCTUARY,
		  etc... Very, very nice. Very very easy to add.
		Renamed spell 'Scry' to 'Wizard Eye', it seems Oblivion had the
		  same spell but named 'Wizard Eye' so i renamed it to make it
		  more familiar to Oblivion players.
		Updated help.are just a little
		Changed layout of aedit_show, medit_show to be more
		  similar to mstat et all. Eventually mstat will replace
		  medit_show.
		Added preliminar parts support, like the one in ROM. No more
		  legs sliced off when you kill snakes.
		Cleaned up send_to_char (color version)
		Now redit_show uses do_rstat for all output.
		It seems that when loading files from stdin, if AREA.LST had
		  "-limbo.are" for example; when saving, it was saved it with
		  the name "-limbo.are" instead of "limbo.are"...
		Added new "editinfo" mode. It allows enhanced info for area
		  editing. It was inspired on Sirak's MUDITOR. Since i can't use
		  this great editor for these area files *sig* i enabled this.
		Changed vnum of room #4475 in gods.are to #1275, why was this
		  room vnum in gods.are? It was overlaping other areas...
		Added medit_copy, doesn't copy shops and so but helps alot...
		Added oedit_copy, doesn't copy extra descriptions and so but
		  helps alot...
		It seems Envy2.2 didn't have the Irix target defined in the
		  top makefile...
		Changed Flee code in mobile_update() a bit to make mobs look
		  smarter and slightly more aggressive.
		Fixed bug in mprog_translate; it wasn't checking if arguments
		  where deleted...
		Cleaned up some code.
		Improved look and feel of OLC to make it seem more integrated
		  with normal Envy wizcommands.
		Renamed clookup to clist, and showclass do clookup.
		Now immortals may pass ALL doors. I was finding this to be very
		  annoying when i wanted to edit rooms with passproof doors
		  using OLC.
		Fixed security loophole in mob_commands, it seems that you could
		  order charmed mobs to "mptransfer all primus" for example...
		Fixed bug in mptransfer(), usage of the "all" argument made the
		  mud crash with a segmentation fault...


=== What's new in patch Release 0.84

Zen:		Quick fix, i think nobody even got 0.83 since i only left it on
		  ftp.game.org for 2 days. Alias code was using bzero and it
		  seems not all platforms have this... Oops!


=== What's new in patch Release 0.83

Zen:		Fixed bug in "imtlset" when using the '-' option with only one
		immskill. Sometimes it made a segmentation fault...
		Now you can see the OLC prompt options while switched.
		Removed several other minor bugs.
		Added a couple of new text attributes to colorconv().
		Updated all Makefiles. I forgot i only updated Makefile.std :-(
		  Should work on all machines now.
		Added Slash's "falling" code. Quite nifty...
		No more need for boring changes in the skill_table when you add
		  a new class. All class info is now in a text file. It took me
		  a whole day to code this but it's very nice...
		Socials table is now in a text file also...
		Now the immortal command "delete" merely moves player files to
		  the backup directory instead of erasing them. Also changed
		  trust level to SENIOR instead of DIRECT. Warning!
		  Retire still deletes your file! You may "force" someone to
		  retire! You have to know their password though ;-)
		Fixed bug in OLC when using redit_mlist() "all". When you were
		  in the "God Rooms" area it would list many mobs not in the
		  area, but in the area's vnum range! It would overflow the
		  buffer for output and cause a segmentation fault. Nice huh?
		Fixed much the same bug in OLC's redit_olist() "all". It now
		  simply checks if the object belongs in the area or not.
		Moved "God Rooms" area to the end of the AREA.LST areas which
		  were inside it's vnum range. This means that now if you redit
		  "create" something like 3220 (Midgaard) the area name defaults
		  to "Midgaard" and not to "God Rooms".
		Fixed one or two typos here and there... My English is crap :-)
		  and my spell checker is crappier.
		Changed alias code a little...
		Changed "sset" so immortals may "sset all" other immortals to
		  ALL spells, even those not of their class.


=== What's new in this patch Release 0.82

Zen:		Converted skills from src/Contributions so they now work (easy)
		Ported ColoUr_V1.2 from Envy2.0 to Envy2.2 (easy)
		Scry spell for all caster classes
		Mass Vortex Lift spell for Clerics
		Vortex Lift spell for Mages and Psionicists
		Meteor Swarm (Drool Co design) spell for Mages
		Meditate skill for all caster classes
		Added Arena Code (suggested in sky.txt) using ROOM_ARENA flag
		Fish now can breathe in SECT_WATER/SECT_WATER_NOSWIM
		Wand of water breathing has use for non Bears! New Swim skill!
		Swim skill for all classes
		Steal bug is fixed! Still existed in Envy2.2! (act_obj.c)
		Retire command (suggested in sky.txt)
		new Director command "Delete" NUKES player on the fly!
		Increased the mana cost of remove alignment to 100 as in Envy2.0
		My new and improved CLANS code support! It works too :-)
		do_remove now allows things as: "remove #.ring"
		do_sacrifice now allows things as: "sacrifice #.something"
		  where # is the word "all" or a number.
		Added MOBPrograms from MOM_Envy.tar.gz, i had to change it a
		  bit (Envy1.0 source with bugs). But it works! Yeeepeee!
		Brew skill (creates potions). A bit altered by me.
		Scribe skill (creates scrolls). A bit altered by me.
		All ch's >= LEVEL_IMMORTAL may enter in any guild room.
		Added "show" bit to cmd_type so MOBProgram commands aren't
		  visible to regular players using the "commands" command.
		  It's his only use, to hide commands from "commands".
		Killing charmed mob without master bug fixed.
		Chain Lightning (Drool Co design) spell for Mages
		Detect Good spell for Clerics
		Dispel Good spell for Clerics
		Dirt Kicking skill for Warriors and Thieves
		Added several new liquid types
		Added ITEM_PORTAL, ITEM_WARP_STONE
		Added do_enter, so you can enter a portal and teleport.
		Added several new liquid types.
		Added Online Editing using ILAB OLC Beta 1.1! To port i used a
		  version of OLC for Envy2.0 by Christopher Smith
		  ( stoked@iastate.edu ) and another from MOM_Envy.tar.gz.
		Changed object format slightly... Will still load old Envy areas
		  but saves in the new format. The only difference this format
		  has is a new value[4] field necessary for ITEM_PORTAL, now
		  we have OLC we could completely change the format for area
		  files and still be able to convert old Envy areas!
		Added alias, and unalias commands (ROM2.4)! 
		  No more need to type such lines as: cast 'lightning breath'
		  executioner several times!
		Added CHANNEL_GRATS and "grats" command.
		Added CHANNEL_CLANTALK and "clantalk" command.
		Protection Good spell for Clerics.
		Fixed colorconv() bug when player was switched.
		Fixed bug in OLC when switched. I just replaced C macros for
		  functions and it disappeared!


Erwin S. A:	Scan(.v1) skill for Thieves (4u2@aabc.dk)
		Save classes info in file idea
		Save socials info in file idea


Jason Huang:	Brew & Scribe skills for caster classes (huangjac@netcom.com)


Lope:		ANSI Colour support using ColoUr_V1.2 (ant@solace.mh.se)


Sandman:	Shield Block skill for all classes
		Fast Healing skill for all classes
		Fourth Attack skill for Warriors
	

Slash:		Falling code (esnible@goodnet.com)


Christopher S:	OLC for Envy20 port and a nice e-mail reminding me of his new
		  release and its changes. Thanks! (stoked@iastate.edu)


MOBProgs 2.1:	Written by J Murphy, N'Atas-Ha of ThePrincedom and
		  based on a concept created on Worlds of Carnage by
		  Aaron Buhr.


MOM_Envy:	MobPrograms and a couple of OLC features were ported from this
		Envy10 based source. (xerxes@primenet.com)


ILAB OLC B1.1:	By Jason Dinkel (jdinkel@mines.colorado.edu)
		  Original by Surreality (cxw197@psu.edu) and
		  Locke (locke@lm.com)


MPEDIT:		Written by Walker (nkrendel@evans.cudenver.edu)


ROM 2.4:	ITEM_PORTAL, ITEM_WARP_STONE idea
		  (Made code from scratch for Envy2.2 - Zen)
		Spell "nexus", "portal" idea (Most of the code was rewritten)
		Most of the alias code itself except load/saving routines.


SMAUG team:	Social table structure in memory and social table hashing idea.
		A couple of functions were also taken from SMAUG code.


=== What can i do to help?

  Please make suggestions, contribute with code or whatever. Whatever i do i
will try to make it available to everyone. And pass it to the EnvyMud staff.
  PLEASE do not make code which requests who uses it to put your name on the
title screen as i have seen some code (like quest.c in ftp.solace.mh.se) i hate
this! If everyone were like this soon we would have pages and pages of names in
the title screen... If you want put your name in the help of the skill or
whatever. To fight this i will include NO code which requests the author's name
in the title screen unless it's a MAJOR code change. I have included some
ROM/SMAUG code and i put a reference to ROM/SMAUG in the code as well as in
here.
  Btw i'm in need of help sections for most of the new skills/spells as i hack
code but usually forget to make the relevant help or it's very outdated...
I would apreciate very much if some kind soul did this for me.


- Zen
